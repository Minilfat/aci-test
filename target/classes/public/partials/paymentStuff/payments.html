<div class="content" ng-cloak ng-controller="PaymentListController">
    <div class="container">
        <!-- options: filtering and making a new payment -->
        <div class="options">
            <div class="select-wrapper">
                <div class="select-text">Choose a biller</div>
                <select ng-model="selectedBiller" ng-options="b.companyName for b in billers" title="..."></select>
            </div>
            <div class="select-wrapper">
                <div class="select-text">Choose a customer</div>
                <select ng-model="selectedCustomer" ng-options="c.firstName + ' ' + c.lastName for c in customers" title="..."></select>
            </div>
            <button type="button" class="btn btn-success option-right"
                    ng-click="openModal()"
                    data-toggle="modal"
                    data-target="#paymentNewModal">New payment</button>
        </div>
        <div class="container-fluid">
            <table class="table table-striped table-bordered">
                <thead>
                <tr>
                    <th scope="col">Date</th>
                    <th scope="col">Customer</th>
                    <th scope="col">Biller</th>
                    <th scope="col">Account</th>
                    <th scope="col">Amount</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="p in payments | filter:selectedBiller.companyName | filter:selectedCustomer.firstName | filter:selectedCustomer.lastName">
                    <td>{{p.dateTime}}</td>
                    <td>{{p.customer.firstName}} {{p.customer.lastName}}</td>
                    <td>{{p.biller.companyName}}</td>
                    <td>{{p.account}}</td>
                    <td>{{p.amount}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <ng-include src="'./partials/paymentStuff/newPaymentModal.html'"></ng-include>
</div>